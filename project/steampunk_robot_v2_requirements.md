# 需求清单/功能列表: 蒸汽朋克 AI 机器人互动体验 V2

**项目代号:** Project Cogsworth (暂定)

**1. 核心概念与风格**
_ **主题:** 蒸汽朋克 (Steampunk) + 复古科技 (Retro Computing)。
_ **核心体验:** 用户通过一个充满机械质感的虚拟终端，生成并与具有个性和成长性的 AI 机器人进行互动。
_ **目标:** 营造强烈的氛围感、操作实体机器的触感，并与机器人建立情感连接。
_ **整体风格:** 外观类似早期一体式电脑（如 Macintosh）但经过蒸汽朋克改造，大量使用黄铜、齿轮、管道、铆钉、辉光管等元素。

**2. 界面布局 (一体式机器界面)**
_ **整体:** 横向一体机，米白/灰色外壳 + 黄铜、铆钉、管道、格栅等蒸汽朋克装饰。
_ **左侧 (约 40-45%):** 球形 CRT 观察区，嵌入式，略微凸出。
_ **右侧 (约 55-60%):** 仪表盘/控制面板，多层次感。
_ **右上:** 抽卡/生成区。
_ **右中:** 核心状态仪表区。
_ **右下:** Console 风格聊天窗口。 \* **周围/下方:** 状态指示灯、辉光管、物理开关/旋钮。

**3. CRT 观察区 (左侧)**
_ **屏幕效果:**
_ 球形失真、细微扫描线、轻微像素感、柔和辉光(Bloom)、暗角、轻微色差。
_ 动态“脾气”：轻微闪烁/抖动、随机噪点/雪花、偶尔水平干扰条纹。
_ 启动/唤醒序列：黑屏/雪花 -> 扫描线/干扰 -> 画面稳定 -> 机器人出现。
_ 响应辉光：随机器人语音/动作有微弱起伏。
_ **动态背景:**
_ 蒸汽朋克实验室/工厂内部场景（齿轮、管道、仪表）。
_ 微妙动画：缓慢齿轮转动、偶尔蒸汽喷射、仪表微动、微弱电弧。
_ 视差滚动效果增加空间感。
_ **互动:** 机器人有阴影，受环境光影响。

**4. 抽卡/生成区 (右上仪表盘)**
_ **外观:** 类似嵌入式“老虎机”面板。
_ **部件显示:** 4 个并排轮盘窗口（显示部件图标/名称）。
_ **核心按钮:** 大型圆形红/绿按钮（启动/确认），视觉反馈强烈。
_ **流程:** 1. **启动 (按红钮):** 按钮亮起，轮盘旋转（视听效果），仪表盘剧烈反应。 2. **停止:** 轮盘依次/同时停止，显示选定部件（锁定视听效果）。 3. **待确认:** 按钮变绿，仪表盘平息至准备状态。 4. **确认 (按绿钮):** 按钮亮起，界面震动，仪表盘峰值反应，触发 CRT 启动序列和核心组合/激活音效。 5. **完成:** 恢复待机状态，焦点转移至 CRT。 \* **音效:** 全程配合丰富的机械、蒸汽、电流、锁定、激活音效。

**5. 核心仪表与控件 (右侧仪表盘)**
_ **动态仪表:**
_ **蒸汽核心压力计:** 圆形，指针随活跃度摆动。
_ **逻辑单元散热指示:** 竖直辉光管，辉光随“思考”蔓延。
_ **同步率/好感度仪表:** 圆形或竖直，指针/辉光条显示进度，带等级标记和指示灯。
_ **状态显示:** 真空管/辉光管阵列（显示状态码/滚动数字），多色状态指示灯集群。
_ **物理控件:**
_ **拨动开关:** 控制环境音、辉光模式等，带“咔哒”反馈。
_ **旋转旋钮:** 调节亮度、音量，或实现趣味“信号干扰”效果，带摩擦/档位反馈。
_ **辅助按钮:** 触发自检、日志清除（视觉效果）、特定小动作等，带按下反馈。
_ **视觉:** 所有仪表控件遵循蒸汽朋克美学，材质统一，有做旧效果。

**6. Console 聊天窗口 (右下仪表盘)**
_ **风格:** 黑底绿字（或琥珀色可选），等宽字体，轻微文字辉光。
_ **光标:** 绿色闪烁实心方块。
_ **布局:** 历史记录区（向上滚动）+ 底部用户输入区。
_ **用户输入:**
_ 提示符：`⚙>` (齿轮符号，需字体支持，备选 `|->` 或 `¤>`)。
_ 打字：字符出现，光标移动，伴随“咔嗒”音效。
_ 发送：消息入历史，清空输入，光标复位。
_ **机器人回复:**
_ 等待时用户光标闪烁。
_ 回复时机器人标识 (`⚡:`, `BOT:`, `SYS:`)出现，用户光标暂停。
_ 文字**流式打印**（逐字/逐词），大致同步语音，伴随打印音效。
_ 历史记录自动上滚。 \* 结束后用户光标恢复闪烁。

**7. 机器人设计**
_ **模块化:** 头部、躯干、手臂（对）、腿部（对/底座）四部分随机组合。
_ **接口:** 标准化连接点，保证组合合理性。
_ **部件库:**
_ 遵循蒸汽朋克美学，多样化设计（外形、细节、主题）。
_ **稀有度分级** (Common, Uncommon, Rare, Epic)，影响视觉复杂度和特效。
_ **描述性标签 (轻量级):** 1-3 个/部件，侧重风味描述（如 `[黄铜 Brass]`, `[重型 Heavy Duty]`），可选极轻微影响动画风格或触发彩蛋，**无**数值加成。 \* **声音:** 抽卡时随机组合语速、音调、音色。

**8. 机器人个性与成长**
_ **性格核心:** 抽卡时随机赋予（乐观、好奇、逻辑等），影响待机动作、动画风格、AI 回复倾向（通过 Prompt 注入）。
_ **记忆模块 (简化):** 存储用户称呼、近期话题、简单偏好（本地存储优先，注重隐私），用于偶尔的个性化对话。
_ **同步率/好感度系统:**
_ 可见仪表显示进度。
_ 通过互动提升。
_ **分层奖励 (Lv1-5):** 逐步解锁新动画、记忆调用频率、特殊指令、外观视觉标记、彩蛋、最终奖励（记忆日志/成就）。 \* 可选：缓慢的**同步率衰减**机制。

**9. 机器人互动细节**
_ **入场动画:** 根据性格核心随机选择（平稳升起、快速组装、伸懒腰、精力充沛跳跃、笨拙坠落、谨慎探头、严肃扫描等）。
_ **表情动作联动:** 解析 AI 回复中的 Emoji，映射到预设的机器人身体动画（微笑点头、大笑捂肚、思考托腮、失落低头等），与语音、口型大致同步。 \* **默认动画:** 无表情时执行口型同步、自然眨眼、轻微待机动作。

**10. 音频设计**
_ **背景环境音:** 持续低音量的基础层（齿轮、蒸汽、嗡嗡）+ 偶尔随机层（敲击、气阀、火花），可开关。
_ **交互音效:** 按钮、开关、旋钮、轮盘旋转、部件锁定、组合生成、机器人动作、CRT 效果、打字、打印等，均需匹配风格、有质感且同步。

**11. 语音同步**
_ **目标:** 实现语音、文字流、口型、身体动作、屏幕辉光的自然同步。
_ **实现路径 (分阶段):**
_ **初期 (简化方案):** 使用 Web Speech API 或标准 TTS，文字打印基于平均速率，口型基于音量，动作延迟触发。
_ **后期 (优化):** 迁移至支持**时间戳**的云 TTS 服务（通过后端代理），实现更精确的同步。

**12. 技术选型初步建议 (Web 平台)**
_ **前端:** React + TypeScript
_ **3D 渲染:** React Three Fiber (R3F) + Drei (基于 Three.js)
_ **UI 样式:** Tailwind CSS 或 CSS Modules (或其他现代 CSS 方案)
_ **状态管理:** Zustand 或 Jotai
_ **AI 接入:** 云 AI API (通过后端代理)
_ **TTS:** Web Speech API -> 云 TTS (通过后端代理)
_ **音频管理:** Howler.js
_ **后端代理:** Serverless Functions 或 Node.js (Express/NestJS) \* **3D 模型格式:** glTF (推荐)

**13. 未来考虑/暂缓功能**
_ 指令模式 (让用户命令机器人执行特定表演)
_ 维护保养小互动 (增加养成感)
_ 更复杂的部件属性系统
_ 零件仓库与手动组装功能
